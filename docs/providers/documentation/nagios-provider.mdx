---
title: 'Nagios'
sidebarTitle: 'Nagios Provider'
description: 'Nagios provider allows you to get alerts from Nagios via webhooks and optionally pull alerts from Nagios XI API.'
---
import AutoGeneratedSnippet from '/snippets/providers/nagios-snippet-autogenerated.mdx';

## Overview

The Nagios provider enables integration between Keep and [Nagios](https://www.nagios.org/), one of the most widely used open-source monitoring systems. It supports both Nagios Core and Nagios XI.

### Supported Features
- **Webhook (Push):** Receive real-time alerts from Nagios via webhook notifications
- **Pull (Nagios XI only):** Query the Nagios XI REST API for current host and service status

## Connecting Nagios to Keep

### Webhook Setup (Nagios Core)

1. Create a webhook notification script on your Nagios server:

```bash
#!/bin/bash
# /usr/local/nagios/libexec/keep_webhook.sh

KEEP_URL="$1"
API_KEY="$2"

curl -s -X POST "$KEEP_URL" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: $API_KEY" \
  -d '{
    "host": "'"$NAGIOS_HOSTNAME"'",
    "service": "'"$NAGIOS_SERVICEDESC"'",
    "status": "'"$NAGIOS_SERVICESTATE"'",
    "host_status": "'"$NAGIOS_HOSTSTATE"'",
    "output": "'"$NAGIOS_SERVICEOUTPUT"'",
    "long_output": "'"$NAGIOS_LONGSERVICEOUTPUT"'",
    "notification_type": "'"$NAGIOS_NOTIFICATIONTYPE"'",
    "attempt": "'"$NAGIOS_SERVICEATTEMPT"'",
    "max_attempts": "'"$NAGIOS_MAXSERVICEATTEMPTS"'",
    "event_time": "'"$NAGIOS_TIMET"'",
    "contact_name": "'"$NAGIOS_CONTACTNAME"'",
    "contact_email": "'"$NAGIOS_CONTACTEMAIL"'",
    "address": "'"$NAGIOS_HOSTADDRESS"'"
  }'
```

2. Make the script executable:

```bash
chmod +x /usr/local/nagios/libexec/keep_webhook.sh
```

3. Define a notification command in your Nagios configuration:

```
define command {
    command_name    notify-keep
    command_line    /usr/local/nagios/libexec/keep_webhook.sh "YOUR_KEEP_WEBHOOK_URL" "YOUR_API_KEY"
}
```

4. Add the command to your contact definition for `service_notification_commands` and `host_notification_commands`.

### Webhook Setup (Nagios XI)

Configure a webhook in the Nagios XI admin panel to POST alerts to your Keep webhook URL with the `X-API-KEY` header.

### Pull Mode (Nagios XI)

To pull alerts from Nagios XI, provide your Nagios XI API key when configuring the provider. The API key can be found in the Nagios XI web interface under **Admin > System Config > API**.

## Useful Links

- [Nagios Core Documentation](https://assets.nagios.com/downloads/nagioscore/docs/nagioscore/4/en/)
- [Nagios XI REST API](https://www.nagios.org/downloads/nagios-xi/add-ons/)
- [Nagios Notification Commands](https://assets.nagios.com/downloads/nagioscore/docs/nagioscore/4/en/notifications.html)

<AutoGeneratedSnippet />
