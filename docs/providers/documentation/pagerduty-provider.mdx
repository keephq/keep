---
title: "Pagerduty Provider"
description: "Pagerduty Provider is a provider that allows to create incidents or post events to Pagerduty."
---

## Inputs

- `title`: str: Title of the alert or incident.
- `alert_body`: str: UTF-8 string of custom message for alert. Shown in incident body for events, and in the body for incidents.
- `dedup`: str | None: Any string, max 255 characters, used to deduplicate alerts for events.
- `service_id`: str: ID of the service for incidents.
- `body`: dict: Body of the incident.
- `requester`: str: Requester of the incident.
- `incident_key`: str | None: Key to identify the incident. If not given, a UUID will be generated.

## Authentication Parameters

The `api_key` or `routing_key` are required for connecting to the Pagerduty provider. You can obtain them as described in the "Connecting with the Provider" section.

Routing key, which is an integration or ruleset key. API key, which is a user or team API key.

## Connecting with the Provider

To use the PagerdutyProvider, you'll need to provide either a routing_key or an api_key.

You can find your integration key or routing key in the PagerDuty web app under **Configuration** > **Integrations**, and select the integration you want to use.
You can find your API key in the PagerDuty web app under **Configuration** > **API Access**.

The routing_key is used to post events to Pagerduty using the events API.
The api_key is used to create incidents using the incidents API.

## Scopes

Certain scopes may be required to perform specific actions or queries via the Pagerduty Provider. Below is a summary of relevant scopes and their use cases:

- incidents_read (Incidents Read)
    Required: True
    Description: View incidents.
- incidents_write (Incidents Write)
    Required: False
    Description: Write incidents.
- webhook_subscriptions_read (Webhook Subscriptions Read)
    Required: False
    Description: View webhook subscriptions.
    (*Required for auto-webhook integration)
- webhook_subscriptions_write (Webhook Subscriptions Write)
    Required: False
    Description: Write webhook subscriptions.
    (*Required for auto-webhook integration)


## Notes

The provider uses either the events API or the incidents API to create an alert or an incident. The choice of API to use is determined by the presence of either a routing_key or an api_key.

An expired trial while using the free version of PagerDuty may result in the "pagerduty scopes are invalid" error at Keep.

## Webhook Integration Modifications

The webhook integration adds Keep as a destination within the "Integrations" API within Pagerduty.
This grants Keep access to the following scopes within Pagerduty:
- `webhook_subscriptions_read`
- `webhook_subscriptions_write`

## Useful Links

- Pagerduty Events API documentation: https://v2.developer.pagerduty.com/docs/send-an-event-events-api-v2
- Pagerduty Incidents API documentation: https://v2.developer.pagerduty.com/docs/create-an-incident-incidents-api-v2
