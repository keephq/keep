---
title: "Flux CD"
sidebarTitle: "Flux CD Provider"
description: "Flux CD Provider enables integration with Flux CD for GitOps topology and alerts."
---
import AutoGeneratedSnippet from '/snippets/providers/fluxcd-snippet-autogenerated.mdx';

<AutoGeneratedSnippet />

## Overview

Flux CD is a GitOps tool for Kubernetes that provides continuous delivery through automated deployment, monitoring, and management of applications. This provider allows you to integrate Flux CD with Keep to get a single pane of glass for monitoring your GitOps deployments.

## Features

### Topology

The Flux CD provider pulls topology data from the following Flux CD resources:

- GitRepositories
- HelmRepositories
- HelmCharts
- OCIRepositories
- Buckets
- Kustomizations
- HelmReleases

The topology shows the relationships between these resources, allowing you to visualize the GitOps deployment process. Resources are categorized as:

- **Source**: GitRepositories, HelmRepositories, OCIRepositories, Buckets
- **Deployment**: Kustomizations, HelmReleases

### Alerts

The Flux CD provider gets alerts from two sources:

1. Kubernetes events related to Flux CD controllers
2. Status conditions of Flux CD resources (GitRepositories, Kustomizations, HelmReleases)

Alerts include:

- Failed GitRepository operations
- Failed Kustomization operations
- Failed HelmRelease operations
- Non-ready resources

Alert severity is determined based on:
- **Critical**: Events with "failed", "error", "timeout", "backoff", or "crash" in the reason
- **High**: Other warning events
- **Info**: Normal events

## Connecting with the Provider

The Flux CD provider supports multiple authentication methods:

1. **Kubeconfig file content** (recommended for external access)
2. **API server URL and token**
3. **In-cluster configuration** (when running inside a Kubernetes cluster)
4. **Default kubeconfig file** (from ~/.kube/config)

### Using Kubeconfig

```yaml
apiVersion: keep.sh/v1
kind: Provider
metadata:
  name: flux-cd
spec:
  type: fluxcd
  authentication:
    kubeconfig: |
      apiVersion: v1
      kind: Config
      clusters:
      - name: my-cluster
        cluster:
          server: https://kubernetes.example.com
          certificate-authority-data: BASE64_ENCODED_CA_CERT
      users:
      - name: my-user
        user:
          token: MY_TOKEN
      contexts:
      - name: my-context
        context:
          cluster: my-cluster
          user: my-user
      current-context: my-context
    context: my-context
    namespace: flux-system
```

### Using API Server and Token

```yaml
apiVersion: keep.sh/v1
kind: Provider
metadata:
  name: flux-cd
spec:
  type: fluxcd
  authentication:
    api-server: https://kubernetes.example.com
    token: MY_TOKEN
    namespace: flux-system
```

> Note: Both `api-server` and `api_server` formats are supported for backward compatibility.

### Using In-Cluster Configuration

```yaml
apiVersion: keep.sh/v1
kind: Provider
metadata:
  name: flux-cd
spec:
  type: fluxcd
  authentication:
    namespace: flux-system
```

## Comparison with ArgoCD Provider

Keep supports both Flux CD and ArgoCD for GitOps deployments. Here's a comparison of the two providers:

| Feature | Flux CD | ArgoCD |
|---------|---------|--------|
| Topology | ✅ | ✅ |
| Alerts | ✅ | ✅ |
| Resource Types | GitRepositories, HelmRepositories, Kustomizations, HelmReleases | Applications, Projects |
| Authentication | Kubeconfig, API Server, In-Cluster | Username/Password, Token |
| Deployment Model | Kubernetes Controllers | Server + Controllers |
| UI Integration | No (CLI only) | Yes (Web UI) |

## Related Resources

- [Flux CD Documentation](https://fluxcd.io/docs/)
- [Flux CD GitHub Repository](https://github.com/fluxcd/flux2)
- [Keep Documentation](https://docs.keephq.dev)
