{/* This snippet is automatically generated using scripts/docs_render_provider_snippets.py
Do not edit it manually, as it will be overwritten */}

## Authentication
This provider requires authentication.
- **api_key**: PostHog API key (required: True, sensitive: True)
- **project_id**: PostHog project ID (required: True, sensitive: False)

Certain scopes may be required to perform specific actions or queries via the provider. Below is a summary of relevant scopes and their use cases:
- **session_recording:read**: Read PostHog session recordings (mandatory)
- **session_recording_playlist:read**: Read PostHog session recording playlists
- **project:read**: Read PostHog project data (mandatory)



## In workflows

This provider can be used in workflows.


As "step" to query data, example:
```yaml
steps:
    - name: Query posthog
      provider: posthog
      config: "{{ provider.my_provider_name }}"
      with:
        query_type: {value}  # Type of query (e.g., "session_recording_domains", "session_recordings")
        hours: {value}  # Number of hours to look back
        limit: {value}  # Maximum number of items to fetch
        # Additional arguments
```





Check the following workflow example:
- [posthog_example.yml](https://github.com/keephq/keep/blob/main/examples/workflows/posthog_example.yml)


## Provider Methods
The provider exposes the following [Provider Methods](/providers/provider-methods#via-ai-assistant). They are available in the [AI Assistant](/overview/ai-incident-assistant).

- **get_session_recording_domains** Get a list of domains from session recordings within a time period (action, scopes: session_recording:read, project:read)

    - `hours`: Number of hours to look back (default: 24)
    - `limit`: Maximum number of recordings to fetch (default: 100)
- **get_session_recordings** Get session recordings within a time period (action, scopes: session_recording:read, project:read)

    - `hours`: Number of hours to look back (default: 24)
    - `limit`: Maximum number of recordings to fetch (default: 100)
